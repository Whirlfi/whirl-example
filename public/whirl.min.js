var WhirlSdk=function(e){var t={};function n(a){if(t[a])return t[a].exports;var u=t[a]={i:a,l:!1,exports:{}};return e[a].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(a,u,function(t){return e[t]}.bind(null,u));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={StableSwapCompund:{abi:[{name:"TokenExchange",inputs:[{type:"address",name:"buyer",indexed:!0},{type:"int128",name:"sold_id",indexed:!1},{type:"uint256",name:"tokens_sold",indexed:!1},{type:"int128",name:"bought_id",indexed:!1},{type:"uint256",name:"tokens_bought",indexed:!1}],anonymous:!1,type:"event"},{name:"TokenExchangeUnderlying",inputs:[{type:"address",name:"buyer",indexed:!0},{type:"int128",name:"sold_id",indexed:!1},{type:"uint256",name:"tokens_sold",indexed:!1},{type:"int128",name:"bought_id",indexed:!1},{type:"uint256",name:"tokens_bought",indexed:!1}],anonymous:!1,type:"event"},{name:"AddLiquidity",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256[2]",name:"token_amounts",indexed:!1},{type:"uint256[2]",name:"fees",indexed:!1},{type:"uint256",name:"invariant",indexed:!1},{type:"uint256",name:"token_supply",indexed:!1}],anonymous:!1,type:"event"},{name:"RemoveLiquidity",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256[2]",name:"token_amounts",indexed:!1},{type:"uint256[2]",name:"fees",indexed:!1},{type:"uint256",name:"token_supply",indexed:!1}],anonymous:!1,type:"event"},{name:"RemoveLiquidityImbalance",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256[2]",name:"token_amounts",indexed:!1},{type:"uint256[2]",name:"fees",indexed:!1},{type:"uint256",name:"invariant",indexed:!1},{type:"uint256",name:"token_supply",indexed:!1}],anonymous:!1,type:"event"},{name:"CommitNewAdmin",inputs:[{type:"uint256",name:"deadline",indexed:!0,unit:"sec"},{type:"address",name:"admin",indexed:!0}],anonymous:!1,type:"event"},{name:"NewAdmin",inputs:[{type:"address",name:"admin",indexed:!0}],anonymous:!1,type:"event"},{name:"CommitNewParameters",inputs:[{type:"uint256",name:"deadline",indexed:!0,unit:"sec"},{type:"uint256",name:"A",indexed:!1},{type:"uint256",name:"fee",indexed:!1},{type:"uint256",name:"admin_fee",indexed:!1}],anonymous:!1,type:"event"},{name:"NewParameters",inputs:[{type:"uint256",name:"A",indexed:!1},{type:"uint256",name:"fee",indexed:!1},{type:"uint256",name:"admin_fee",indexed:!1}],anonymous:!1,type:"event"},{outputs:[],inputs:[{type:"address[2]",name:"_coins"},{type:"address[2]",name:"_underlying_coins"},{type:"address",name:"_pool_token"},{type:"uint256",name:"_A"},{type:"uint256",name:"_fee"}],constant:!1,payable:!1,type:"constructor"},{name:"get_virtual_price",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:1084167},{name:"calc_token_amount",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"uint256[2]",name:"amounts"},{type:"bool",name:"deposit"}],constant:!0,payable:!1,type:"function",gas:4239939},{name:"add_liquidity",outputs:[],inputs:[{type:"uint256[2]",name:"amounts"},{type:"uint256",name:"min_mint_amount"}],constant:!1,payable:!1,type:"function",gas:6479997},{name:"get_dy",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"int128",name:"i"},{type:"int128",name:"j"},{type:"uint256",name:"dx"}],constant:!0,payable:!1,type:"function",gas:2543681},{name:"get_dx",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"int128",name:"i"},{type:"int128",name:"j"},{type:"uint256",name:"dy"}],constant:!0,payable:!1,type:"function",gas:2543687},{name:"get_dy_underlying",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"int128",name:"i"},{type:"int128",name:"j"},{type:"uint256",name:"dx"}],constant:!0,payable:!1,type:"function",gas:2543506},{name:"get_dx_underlying",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"int128",name:"i"},{type:"int128",name:"j"},{type:"uint256",name:"dy"}],constant:!0,payable:!1,type:"function",gas:2543512},{name:"exchange",outputs:[],inputs:[{type:"int128",name:"i"},{type:"int128",name:"j"},{type:"uint256",name:"dx"},{type:"uint256",name:"min_dy"}],constant:!1,payable:!1,type:"function",gas:5184573},{name:"exchange_underlying",outputs:[],inputs:[{type:"int128",name:"i"},{type:"int128",name:"j"},{type:"uint256",name:"dx"},{type:"uint256",name:"min_dy"}],constant:!1,payable:!1,type:"function",gas:5200817},{name:"remove_liquidity",outputs:[],inputs:[{type:"uint256",name:"_amount"},{type:"uint256[2]",name:"min_amounts"}],constant:!1,payable:!1,type:"function",gas:153898},{name:"remove_liquidity_imbalance",outputs:[],inputs:[{type:"uint256[2]",name:"amounts"},{type:"uint256",name:"max_burn_amount"}],constant:!1,payable:!1,type:"function",gas:6479708},{name:"commit_new_parameters",outputs:[],inputs:[{type:"uint256",name:"amplification"},{type:"uint256",name:"new_fee"},{type:"uint256",name:"new_admin_fee"}],constant:!1,payable:!1,type:"function",gas:146105},{name:"apply_new_parameters",outputs:[],inputs:[],constant:!1,payable:!1,type:"function",gas:133512},{name:"revert_new_parameters",outputs:[],inputs:[],constant:!1,payable:!1,type:"function",gas:21835},{name:"commit_transfer_ownership",outputs:[],inputs:[{type:"address",name:"_owner"}],constant:!1,payable:!1,type:"function",gas:74512},{name:"apply_transfer_ownership",outputs:[],inputs:[],constant:!1,payable:!1,type:"function",gas:60568},{name:"revert_transfer_ownership",outputs:[],inputs:[],constant:!1,payable:!1,type:"function",gas:21925},{name:"withdraw_admin_fees",outputs:[],inputs:[],constant:!1,payable:!1,type:"function",gas:12831},{name:"kill_me",outputs:[],inputs:[],constant:!1,payable:!1,type:"function",gas:37878},{name:"unkill_me",outputs:[],inputs:[],constant:!1,payable:!1,type:"function",gas:22015},{name:"coins",outputs:[{type:"address",name:"out"}],inputs:[{type:"int128",name:"arg0"}],constant:!0,payable:!1,type:"function",gas:2190},{name:"underlying_coins",outputs:[{type:"address",name:"out"}],inputs:[{type:"int128",name:"arg0"}],constant:!0,payable:!1,type:"function",gas:2220},{name:"balances",outputs:[{type:"uint256",name:"out"}],inputs:[{type:"int128",name:"arg0"}],constant:!0,payable:!1,type:"function",gas:2250},{name:"A",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:2081},{name:"fee",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:2111},{name:"admin_fee",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:2141},{name:"owner",outputs:[{type:"address",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:2171},{name:"admin_actions_deadline",outputs:[{type:"uint256",unit:"sec",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:2201},{name:"transfer_ownership_deadline",outputs:[{type:"uint256",unit:"sec",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:2231},{name:"future_A",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:2261},{name:"future_fee",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:2291},{name:"future_admin_fee",outputs:[{type:"uint256",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:2321},{name:"future_owner",outputs:[{type:"address",name:"out"}],inputs:[],constant:!0,payable:!1,type:"function",gas:2351}],address:"0x734B0171A7D37101405925DD5d6eD13BAA0021B7"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(2),u=n(3);t.default={Swap:a.default,Pool:u.default}},function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(u,i){function o(e){try{p(a.next(e))}catch(e){i(e)}}function s(e){try{p(a.throw(e))}catch(e){i(e)}}function p(e){var t;e.done?u(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}p((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const u=n(0);t.default=class{constructor(e){this.web3=e,this.compound=new this.web3.eth.Contract(u.default.StableSwapCompund.abi,u.default.StableSwapCompund.address)}getTokens(){return["DAI","USDC"]}getExchangeRate(e,t,n,i){return a(this,void 0,void 0,(function*(){let e=this.compound.methods.get_dy_underlying(1,0,n).encodeABI(),t=yield this.web3.eth.call({to:u.default.StableSwapCompund.address,data:e});return t=this.web3.utils.hexToNumber(t),(t/(1e12*n)).toPrecision(i)}))}swap(e,t,n,i){return a(this,void 0,void 0,(function*(){if(!this.web3.currentProvider.selectedAddress)throw Error("Current provider has no selected address");let a,o;switch(e){case"DAI":a=0;break;case"USDC":a=1}switch(t){case"DAI":o=0;break;case"USDC":o=1}const s=this.compound.methods.exchange_underlying(a,o,n,i).encodeABI(),p={gasPrice:"20000000000",gas:12e5,to:u.default.StableSwapCompund.address,from:this.web3.currentProvider.selectedAddress,data:s};return yield this.web3.eth.sendTransaction(p)}))}}},function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(u,i){function o(e){try{p(a.next(e))}catch(e){i(e)}}function s(e){try{p(a.throw(e))}catch(e){i(e)}}function p(e){var t;e.done?u(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}p((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const u=n(0);t.default=class{constructor(e){this.web3=e,this.pools={Compound:"COMP"},this.compound=new this.web3.eth.Contract(u.default.StableSwapCompund.abi,u.default.StableSwapCompund.address)}getLPs(){return["Compound"]}getLPCoin(e){return this.pools[e]}getBalances(e){return a(this,void 0,void 0,(function*(){let t=this.compound.methods.balances(e).encodeABI();return yield this.web3.eth.call({to:u.default.StableSwapCompund.address,data:t})}))}addLiquidity(e,t){return a(this,void 0,void 0,(function*(){}))}removeLiquidity(e,t){return a(this,void 0,void 0,(function*(){}))}}}]);